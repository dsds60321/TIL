# 테스트 개발 주도 시작하기
## TDD란?
* 테스트 코드를 먼저 작성하고 작성한 테스트를 통과시키기 위해 구현하는 방식입니다.
---
### 흐름
1. 테스트 pseudo code 작성
2. 테스트를 위한 테스트 코드 작성 컴파일 오류를 없애기 위한 코드 작성(메서드, 클래스...)
3. 테스트
4. 리팩토링
5. 구현코드 추가

### TDD 사이클
1. 레드(Red) : 실패
2. 그린(Green) : 성공
3. 리팩터(Refactor) : 리팩토

### 테스트 순서
1. 테스트 코드를 작성할때 쉬운 케이스 부터 시작해야한다.
2. 예외상황을 먼저 테스트 해야한다.
---
* @BeforEach : 테스트가 동작 전 세팅하는데 역활을 보통 많이 합니다.

* 테스트는 언제 동일한 결과를 보장해야합니다.
* 실행 순서에 영향을

### 테스트 코드 구성 요소 : 상황(given), 실행(when), 결과(then)
* 언제나 상황 혹은 결과가 존재해야 하는건 아납니다.

### 외부 상태가 테스트 결과에 영향을 주면 언된다.
* 테스트는 언제 실행해도 항상 정상적으로 동작해야 합니다.
  <br>외부 상태에 따라 테스트의 성공 여부가 바뀌지 않으려면 테스트 실행 전에 외부를 원하는 상태로 만들거나 테스트
  <br>실행 후에 외부 상태를 원래대로 되돌려 놓아야 합니다.


## 대역
### 외부 요인으로 인한 테스트에 어려움으로 인해 대역을 많이 사용합니다.
| 종류        | 설명                                                                             |
|-----------|--------------------------------------------------------------------------------|
| 스텁 (Stub) | 구현을 단순한 것으로 대체한다. 테스트에 맞게 단순히 원하는 동작을 수행합니다.|
|가짜 (Fake)| 실제 동작하는 구현을 제공합니다. DB 대신 메모리를 이용해 Repository 같은것을 구현한것이 가짜에 해당합니다.|
|스파이(Spy)| 호출된 내역을 기록합니다. 기록한 내용은 테스트 결과를 검증할때 사용하며 스텁이기도 합니다.|
|모의(Mock)| 기대한 대로 상호작용한지 행위를 검증합니다. 기대한대로 동작하지 않는다면 익셉션을 발생시킬수 있습니다. 모의 객체는 스텁이자 스파이도 된다. |

